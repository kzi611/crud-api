{"ast":null,"code":"import axios from 'axios';\nuseEffect(() => {\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:8000/api/people');\n      setUsers(response.data);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  };\n  fetchUsers();\n}, []);\nconst handleCreateUser = async formData => {\n  try {\n    await axios.post('http://127.0.0.1:8000/api/people/create', formData);\n    alert('User created successfully!');\n    const updatedUsersResponse = await axios.get('http://127.0.0.1:8000/api/people');\n    setUsers(updatedUsersResponse.data);\n    handleCloseCreateModal();\n  } catch (error) {\n    console.error('Error creating user:', error);\n  }\n};\nconst handleUpdateUser = async formData => {\n  try {\n    const statusValue = formData.status === 'active' ? 1 : 0;\n    formData.status = statusValue;\n    await axios.put(`http://127.0.0.1:8000/api/people/edit/${formData.id}`, formData);\n    alert('User updated successfully!');\n    setUsers(prevUsers => prevUsers.map(user => user.id === formData.id ? formData : user));\n    handleCloseUpdateModal();\n  } catch (error) {\n    console.error('Error updating user:', error);\n  }\n};\nconst handleDeleteUser = useCallback(async userId => {\n  try {\n    await axios.delete(`http://127.0.0.1:8000/api/people/delete/${userId}`);\n    setUsers(users.filter(user => user.id !== userId));\n  } catch (error) {\n    console.error('Error deleting user:', error);\n  }\n}, [users]);","map":{"version":3,"names":["axios","useEffect","fetchUsers","response","get","setUsers","data","error","console","handleCreateUser","formData","post","alert","updatedUsersResponse","handleCloseCreateModal","handleUpdateUser","statusValue","status","put","id","prevUsers","map","user","handleCloseUpdateModal","handleDeleteUser","useCallback","userId","delete","users","filter"],"sources":["/Users/donhutkhavy/front-end/src/utils/handleUser.jsx"],"sourcesContent":["import axios from 'axios';\n\nuseEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const response = await axios.get('http://127.0.0.1:8000/api/people');\n        setUsers(response.data);\n      } catch (error) {\n        console.error('Error fetching users:', error);\n      }\n    };\n    fetchUsers();\n  }, []);\n\n  const handleCreateUser = async (formData) => {\n    try {\n      await axios.post('http://127.0.0.1:8000/api/people/create', formData);\n      alert('User created successfully!');\n      const updatedUsersResponse = await axios.get('http://127.0.0.1:8000/api/people');\n      setUsers(updatedUsersResponse.data);\n      handleCloseCreateModal();\n    } catch (error) {\n      console.error('Error creating user:', error);\n    }\n  };\n\n  const handleUpdateUser = async (formData) => {\n    try {\n      const statusValue = formData.status === 'active' ? 1 : 0;\n      formData.status = statusValue;\n      await axios.put(`http://127.0.0.1:8000/api/people/edit/${formData.id}`, formData);\n      alert('User updated successfully!');\n      setUsers(prevUsers =>\n        prevUsers.map(user => (user.id === formData.id ? formData : user))\n      );\n      handleCloseUpdateModal();\n    } catch (error) {\n      console.error('Error updating user:', error);\n    }\n  };\n\n  const handleDeleteUser = useCallback(async (userId) => {\n    try {\n      await axios.delete(`http://127.0.0.1:8000/api/people/delete/${userId}`);\n      setUsers(users.filter(user => user.id !== userId));\n    } catch (error) {\n      console.error('Error deleting user:', error);\n    }\n  }, [users]);"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzBC,SAAS,CAAC,MAAM;EACZ,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,kCAAkC,CAAC;MACpEC,QAAQ,CAACF,QAAQ,CAACG,IAAI,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF,CAAC;EACDL,UAAU,CAAC,CAAC;AACd,CAAC,EAAE,EAAE,CAAC;AAEN,MAAMO,gBAAgB,GAAG,MAAOC,QAAQ,IAAK;EAC3C,IAAI;IACF,MAAMV,KAAK,CAACW,IAAI,CAAC,yCAAyC,EAAED,QAAQ,CAAC;IACrEE,KAAK,CAAC,4BAA4B,CAAC;IACnC,MAAMC,oBAAoB,GAAG,MAAMb,KAAK,CAACI,GAAG,CAAC,kCAAkC,CAAC;IAChFC,QAAQ,CAACQ,oBAAoB,CAACP,IAAI,CAAC;IACnCQ,sBAAsB,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF,CAAC;AAED,MAAMQ,gBAAgB,GAAG,MAAOL,QAAQ,IAAK;EAC3C,IAAI;IACF,MAAMM,WAAW,GAAGN,QAAQ,CAACO,MAAM,KAAK,QAAQ,GAAG,CAAC,GAAG,CAAC;IACxDP,QAAQ,CAACO,MAAM,GAAGD,WAAW;IAC7B,MAAMhB,KAAK,CAACkB,GAAG,CAAC,yCAAyCR,QAAQ,CAACS,EAAE,EAAE,EAAET,QAAQ,CAAC;IACjFE,KAAK,CAAC,4BAA4B,CAAC;IACnCP,QAAQ,CAACe,SAAS,IAChBA,SAAS,CAACC,GAAG,CAACC,IAAI,IAAKA,IAAI,CAACH,EAAE,KAAKT,QAAQ,CAACS,EAAE,GAAGT,QAAQ,GAAGY,IAAK,CACnE,CAAC;IACDC,sBAAsB,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOhB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF,CAAC;AAED,MAAMiB,gBAAgB,GAAGC,WAAW,CAAC,MAAOC,MAAM,IAAK;EACrD,IAAI;IACF,MAAM1B,KAAK,CAAC2B,MAAM,CAAC,2CAA2CD,MAAM,EAAE,CAAC;IACvErB,QAAQ,CAACuB,KAAK,CAACC,MAAM,CAACP,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKO,MAAM,CAAC,CAAC;EACpD,CAAC,CAAC,OAAOnB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF,CAAC,EAAE,CAACqB,KAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}